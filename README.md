# Vision AI and GPT-powered Text Extraction API

This project is a Node.js application that leverages Google Cloud Vision API for text detection in images and OpenAI's GPT-3.5 Turbo for generating responses based on extracted text and additional user data. The application is designed to receive image uploads, extract text using Google Cloud Vision, and then process that text through OpenAI's GPT-3.5 Turbo to provide valuable insights, warnings, advice, suggestions, recommendations, and food facts.

## Prerequisites

Before running the application, make sure you have the following:

- Google Cloud Vision API credentials in a JSON file (`vision-ai.json`). You can obtain this file from the Google Cloud Console.
- OpenAI API key, which should be set in the environment variables as `OPENAI_API_KEY`.
- Node.js installed on your machine.

## Installation

1. Clone the repository:

   ```bash
   git clone https://github.com/bayurzx/web5-back.git
   ```

2. Install dependencies:

   ```bash
   cd web5-back
   npm install
   ```

3. Create a `.env` file in the root directory and add the following:

   ```env
   OPENAI_API_KEY=your_openai_api_key
   ```

4. Run the application:

   ```bash
   npm start
   ```

## Usage

The API provides an endpoint `/upload` for handling image file uploads. The uploaded image is processed using Google Cloud Vision, and the extracted text is then sent to the GPT-3.5 Turbo model along with additional user data. The API responds with insights generated by the GPT model.

### Example:

- **Endpoint:** `POST /upload`
- **Request Payload:**
  - `image_file`: Image file to be uploaded
  - `json_data`: Additional JSON data for processing

- **Response:**
  ```json
  {
    "text": "Generated text from GPT model."
  }
  ```

## CORS Configuration

The API is configured to accept requests from the following origins:
- http://localhost:3000
- https://foodcheck-ai.vercel.app
- https://foodcheck-ai.netlify.app
- https://foodcheck-ai-bayurzx-dev.apps.sandbox-m3.1530.p1.openshiftapps.com

## Additional Information

- The application uses Multer for handling file uploads.
- CORS is configured to allow specified origins.
- Uploaded files are stored temporarily in the `uploads/` directory and deleted after processing.

Feel free to explore and modify the code to suit your specific needs. Happy coding!

Note: Replace `your_openai_api_key` with your actual OpenAI API key in the `.env` file. Additionally, ensure that you have the required Google Cloud Vision API credentials (`vision-ai.json`) before running the application.